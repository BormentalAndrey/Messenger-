#!/bin/bash

# Скрипт для установки/обновления Gradle Wrapper
# Укажите желаемую версию Gradle (актуальную можно посмотреть на https://gradle.org/releases/)
GRADLE_VERSION="8.10.2"  # Измените на нужную версию

echo "Генерация Gradle Wrapper для версии $GRADLE_VERSION..."

# Генерируем wrapper (используем локальный gradle, если установлен)
gradle wrapper --gradle-version $GRADLE_VERSION --distribution-type bin

# Если gradle не найден, можно скачать и использовать временно, но проще установить Gradle

if [ $? -eq 0 ]; then
    echo "Gradle Wrapper успешно сгенерирован!"
    echo "Файлы: gradlew, gradlew.bat, gradle/wrapper/*"

    # Добавляем в Git (если проект под Git)
    git add gradlew gradlew.bat gradle/wrapper/
    git commit -m "chore: add/update Gradle Wrapper to version $GRADLE_VERSION"

    echo "Файлы добавлены и закоммичены в Git."
    echo "Теперь используйте ./gradlew build для сборки проекта."
else
    echo "Ошибка при генерации wrapper. Убедитесь, что Gradle установлен (gradle --version)."
fi
